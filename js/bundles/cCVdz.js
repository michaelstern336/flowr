var pageComponent=webpackJsonppageComponent([8],{294:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=r(a),d=n(2),u=r(d);n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15);var c=n(295),p=r(c),f=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(s.default);u.default.register(f,p.default),t.default=f},295:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.templates=t.cCVdz=void 0;var a,s=n(1),d=r(s),u=n(2),c=r(u);goog.loadModule(function(e){function t(e,t,r){var a=function(){d({code:"import { Await } from 'flowr';",mode:"javascript"},null,r),o("p"),o("br"),l("br"),o("br"),l("br"),o("code"),s("Await"),l("code"),s(" will render it's children "),o("strong"),s("when and only"),l("strong"),s(" if the provided promise resolves. When used with a render prop, it will always apply the promise result "),o("em"),s("(err, res)"),l("em"),s(" to the callback."),l("p"),d({code:"<div>\n  <Await for={promise}>\n    <span>Hello, world!</span>\n  </Await>\n</div>\n\n\n// resolved:\n<div>\n  <span>Hello, world!</span>\n</div>\n\n// rejected:\n<div></div>",mode:"text/jsx"},null,r),o("p"),o("br"),l("br"),o("br"),l("br"),o("code"),s("Await"),l("code"),s(" can also be used with a "),o("a",null,null,"href","https://reactjs.org/docs/render-props.html"),s("render prop"),l("a"),s(". The render callback will take two arguments: "),o("code"),s("error"),l("code"),s(" and "),o("code"),s("response"),l("code"),s("."),l("p"),d({code:"<div>\n  <Await for={promise}>\n    {(err, res) => (\n      <Either when={res.data}>\n        <ul>{res.data.map(item => <li>{item}</li>)}</ul>\n        <Maybe when={err}>\n          <span>Sorry, we cannot fetch the results right now. Try again later</span>\n        </Maybe>\n      </Either>\n    )}\n  </Await>\n</div>",mode:"text/jsx"},null,r),o("p"),o("br"),l("br"),o("br"),l("br"),s("You can also provide a "),o("code"),s("Promise"),l("code"),s(" returning function to keep things lazy and only evaluate the promise when the component is constructed."),l("p"),d({code:"// ...\n\nrender() {\n  const { shouldFetch, url } = this.props\n\n  return (\n    <Maybe when={shouldFetch && url}>\n      <Await for={() => fetch(url)}>\n        {\n          (err, res) => (\n            <Maybe when={!err && res}>\n              <div>JSON.stringify(res.data)</div>\n            </Maybe>\n          )\n        }\n      </Await>\n    </Maybe>\n  )\n}",mode:"text/jsx"},null,r),o("p"),s("If you are providing a "),o("code"),s("function"),l("code"),s(", a new "),o("code"),s("promise"),l("code"),s(" will be returned everytime you are adding/removing the element to/from the DOM. This will initiate a new request each time. There are ways around this, like keeping track of the promise in the parent component and pass that if it's defined. You can get a reference to the promise through the "),o("code"),s("onPromise"),l("code"),s(" callback prop."),l("p"),d({code:'// ...\n\npromise = null\n\ntoggleFriends = (e) => {\n  this.setState({\n    showFriends: e.target.checked\n  })\n}\n\nrender() {\n  const { showFriends } = this.state\n  const { url } = this.state\n\n  return (\n    <section>\n      <input type="checkbox" onChange={this.toggleFriends} />\n      <Maybe when={showFriends}>\n        <Await\n          for={this.promise || () => fetch(url)}\n          onPromise={(promise) => (this.promise = promise)}>\n            {\n              (err, res) => (\n                // display list of friends, or not...\n              )\n            }\n        </Await>\n      </Maybe>\n    </section>\n  )\n}',mode:"text/jsx"},null,r),o("div",null,null,"class","alert alert-inline alert-warning"),i("span",null,null,"class","icon-16-alert"),o("span",null,null,"class","alert-body"),s("If you don't specify a valid "),o("b"),s("for"),l("b"),s(' prop, everything will shortcircuit and the children will be rendered immediately, as there is nothing to "wait for".'),l("span"),l("div"),o("article",null,null,"id","await-props"),o("h2"),s("Props"),l("h2"),o("table"),o("thead"),o("tr"),o("th"),s("Name"),l("th"),o("th",null,null,"style","text-align:left"),s("Type"),l("th"),o("th",null,null,"style","text-align:left"),s("Default"),l("th"),o("th",null,null,"style","text-align:left"),s("Description"),l("th"),l("tr"),l("thead"),o("tbody"),o("tr"),o("td"),o("strong"),s("for"),l("strong"),l("td"),o("td",null,null,"style","text-align:left"),s("oneOfType([ instanceOf(Promise), func ])"),l("td"),o("td",null,null,"style","text-align:left"),o("em"),s("-"),l("em"),l("td"),o("td",null,null,"style","text-align:left"),s("The promise we need to wait for, or a function that will return one which will be evaluated lazily, in the component's "),o("code"),s("constructor"),l("code"),l("td"),l("tr"),o("tr"),o("td"),o("strong"),s("tap"),l("strong"),l("td"),o("td",null,null,"style","text-align:left"),s("func"),l("td"),o("td",null,null,"style","text-align:left"),o("em"),s("-"),l("em"),l("td"),o("td",null,null,"style","text-align:left"),s("Takes an "),o("code"),s("error"),l("code"),s(" and a "),o("code"),s("response"),l("code"),s(" argument and is called when the promise is fulfilled. Use this to perform side-effects or just for debugging purposes."),l("td"),l("tr"),o("tr"),o("td"),o("strong"),s("onPromise"),l("strong"),l("td"),o("td",null,null,"style","text-align:left"),s("func"),l("td"),o("td",null,null,"style","text-align:left"),o("em"),s("-"),l("em"),l("td"),o("td",null,null,"style","text-align:left"),s("Takes a single argument that will be the promise returned from the function passed through the "),o("code"),s("for"),l("code"),s(" prop. Useful for keeping track of the first promise. Will not be called if we already pass a Promise to the "),o("code"),s("for"),l("code"),s(" prop."),l("td"),l("tr"),l("tbody"),l("table"),o("hr"),l("hr"),l("article"),o("input",null,null,"type","hidden","value",e.page.title),l("input"),o("input",null,null,"type","hidden","value",e.site.title),l("input")};u(n.$$assignDefaults({content:a},e),null,r)}goog.module("cCVdz.incrementaldom");var n=goog.require("soy");goog.require("soydata");goog.require("goog.asserts"),goog.require("soy.asserts"),goog.require("goog.i18n.bidi"),goog.require("goog.string");var r=goog.require("incrementaldom"),o=r.elementOpen,l=r.elementClose,i=r.elementVoid,s=(r.elementOpenStart,r.elementOpenEnd,r.text),d=(r.attr,c.default.getTemplate("ElectricCode.incrementaldom","render")),u=c.default.getTemplate("guide.incrementaldom","render");return e.render=t,goog.DEBUG&&(t.soyTemplateName="cCVdz.render"),e.render.params=["page","site"],e.render.types={page:"?",site:"?"},e.templates=a=e,e});var p=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(d.default);c.default.register(p,a),t.cCVdz=p,t.templates=a,t.default=a}},[294]);